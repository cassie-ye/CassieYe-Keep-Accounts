{"remainingRequest":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\babel-loader\\lib\\index.js!E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\src\\views\\purchaseManagement\\purchaseRecords.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\src\\views\\purchaseManagement\\purchaseRecords.vue","mtime":1733708193490},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\babel.config.js","mtime":1733119120270},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1733119317753},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1733119318248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkU6L215U3R1ZHkvZ2l0aHViL0Nhc3NpZVllLUtlZXAtQWNjb3VudHMva2VlcC1hY2NvdW50cy12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnOwppbXBvcnQgWExTWCBmcm9tICd4bHN4JzsKaW1wb3J0IEZpbGVTYXZlciBmcm9tICdmaWxlLXNhdmVyJzsKaW1wb3J0IHsgZ2V0UHVyY2hhc2VSZWNvcmRzTWFuYWdlbWVudExpc3RBUEkgfSBmcm9tICdAL2FwaS9wdXJjaGFzZU1hbmFnZW1lbnQnOwppbXBvcnQgZm9vZFNhZmV0eUNoYWluIGZyb20gJy4vZm9vZFNhZmV0eUNoYWluJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcnRpY2xlTGlzdCcsCiAgY29tcG9uZW50czogewogICAgZm9vZFNhZmV0eUNoYWluOiBmb29kU2FmZXR5Q2hhaW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbDogMCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGluZm9WaXNpYmxlOiBmYWxzZSwKICAgICAgcmVjb3Jkc0xpc3Q6IFtdLAogICAgICBmb3JtRGF0YTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICAgIC8vIOaRiuS9jeWPtwogICAgICAgICAgc3RhbGxObzogJycsCiAgICAgICAgICAvLyDph4fotK3llYbmiYvmnLrlj7cKICAgICAgICAgIHB1cmNoYXNlclBob25lTnVtYmVyOiAnJywKICAgICAgICAgIC8vIOWVhuaIt+WQjeensAogICAgICAgICAgYnVzaW5lc3NOYW1lOiAnJywKICAgICAgICAgIC8vIOWVhuWTgeWQjeensAogICAgICAgICAgZ29vZHNOYW1lOiAnJywKICAgICAgICAgIC8vIOmHh+i0reaXtumXtAogICAgICAgICAgcHVyY2hhc2VUaW1lOiBudWxsCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UHVyY2hhc2VSZWNvcmRzTWFuYWdlbWVudExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0OiBmdW5jdGlvbiBnZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBkZWFsVGltZVN0YXJ0ID0gJyc7CiAgICAgIHZhciBkZWFsVGltZUVuZCA9ICcnOwogICAgICBpZiAodGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnB1cmNoYXNlVGltZSAmJiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VUaW1lLmxlbmd0aCA9PT0gMikgewogICAgICAgIHZhciBfdGhpcyRmb3JtRGF0YSRmb3JtSW4gPSBfc2xpY2VkVG9BcnJheSh0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VUaW1lLCAyKSwKICAgICAgICAgIHN0YXJ0RGF0ZSA9IF90aGlzJGZvcm1EYXRhJGZvcm1JblswXSwKICAgICAgICAgIGVuZERhdGUgPSBfdGhpcyRmb3JtRGF0YSRmb3JtSW5bMV07CiAgICAgICAgZGVhbFRpbWVTdGFydCA9IGRheWpzKHN0YXJ0RGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgICAgZGVhbFRpbWVFbmQgPSBkYXlqcyhlbmREYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgfQogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGxpbWl0OiB0aGlzLmZvcm1EYXRhLmxpbWl0LAogICAgICAgIHBhZ2U6IHRoaXMuZm9ybURhdGEucGFnZSwKICAgICAgICBib290aE5vOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuc3RhbGxObywKICAgICAgICBidXllck1vYmlsZU5vOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VyUGhvbmVOdW1iZXIsCiAgICAgICAgZGVhbFRpbWVTdGFydDogZGVhbFRpbWVTdGFydCwKICAgICAgICBkZWFsVGltZUVuZDogZGVhbFRpbWVFbmQsCiAgICAgICAgZ29vZHNOYW1lOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuZ29vZHNOYW1lLAogICAgICAgIHByb3ByaWV0b3JOYW1lOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuYnVzaW5lc3NOYW1lCiAgICAgIH07CiAgICAgIGdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0QVBJKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucmVjb3Jkc0xpc3QgPSByZXMuZGF0YTsKICAgICAgICBfdGhpcy50b3RhbCA9IE51bWJlcihyZXMuY291bnQpOwogICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5PcGVyYXRlRGlhbG9nOiBmdW5jdGlvbiBvcGVuT3BlcmF0ZURpYWxvZyhyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuaW5mb1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRyZWZzLmluZm8uaW5pdChyb3cuZ29vZHNEZWFsRGV0YWlsSWQpOwogICAgICB9KTsKICAgIH0sCiAgICBzaXplQ2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhLmxpbWl0ID0gdmFsOwogICAgICB0aGlzLmZvcm1EYXRhLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0KCk7CiAgICB9LAogICAgY3VycmVudENoYW5nZUhhbmRsZTogZnVuY3Rpb24gY3VycmVudENoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5wYWdlID0gdmFsOwogICAgICB0aGlzLmdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0KCk7CiAgICB9LAogICAgb25TZWFyY2g6IGZ1bmN0aW9uIG9uU2VhcmNoKCkgewogICAgICB0aGlzLmZvcm1EYXRhLnBhZ2UgPSAxOwogICAgICAvLyB0aGlzLmZvcm1EYXRhLmxpbWl0ID0gMTAKICAgICAgdGhpcy5nZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdCgpOwogICAgfSwKICAgIG9uUmVzZXQ6IGZ1bmN0aW9uIG9uUmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybURhdGEuZm9ybUlubGluZS5zdGFsbE5vID0gJyc7CiAgICAgIHRoaXMuZm9ybURhdGEuZm9ybUlubGluZS5wdXJjaGFzZXJQaG9uZU51bWJlciA9ICcnOwogICAgICB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuYnVzaW5lc3NOYW1lID0gJyc7CiAgICAgIHRoaXMuZm9ybURhdGEuZm9ybUlubGluZS5nb29kc05hbWUgPSAnJzsKICAgICAgdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnB1cmNoYXNlVGltZSA9IG51bGw7CiAgICAgIHRoaXMuZ2V0UHVyY2hhc2VSZWNvcmRzTWFuYWdlbWVudExpc3QoKTsKICAgIH0sCiAgICBvbkV4cG9ydDogZnVuY3Rpb24gb25FeHBvcnQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGxpbWl0OiA5OTk5OTksCiAgICAgICAgcGFnZTogMSwKICAgICAgICBib290aE5vOiAnJywKICAgICAgICBidXllck1vYmlsZU5vOiAnJywKICAgICAgICBkZWFsVGltZVN0YXJ0OiAnJywKICAgICAgICBkZWFsVGltZUVuZDogJycsCiAgICAgICAgZ29vZHNOYW1lOiAnJywKICAgICAgICBwcm9wcmlldG9yTmFtZTogJycKICAgICAgfTsKICAgICAgZ2V0UHVyY2hhc2VSZWNvcmRzTWFuYWdlbWVudExpc3RBUEkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDAgJiYgcmVzLmRhdGEpIHsKICAgICAgICAgIHZhciBleHBvcnREYXRhID0gcmVzLmRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgJ+mHh+i0reaXtumXtCc6IGl0ZW0uZGVhbFRpbWUsCiAgICAgICAgICAgICAgJ+mHh+i0reWVhuaJi+acuuWPtyc6IGl0ZW0uYnV5ZXJNb2JpbGVObywKICAgICAgICAgICAgICAn5pGK5L2N5Y+3JzogaXRlbS5ib290aE5vLAogICAgICAgICAgICAgICfllYbmiLflkI3np7AnOiBpdGVtLnByb3ByaWV0b3JOYW1lLAogICAgICAgICAgICAgICfllYblk4HlkI3np7AnOiBpdGVtLmdvb2RzTmFtZSwKICAgICAgICAgICAgICAn6YeH6LSt6YePJzogaXRlbS5nb29kc1dlaWdodCArIGl0ZW0udW5pdAogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczMuZ2VuZXJhdGVFeGNlbChleHBvcnREYXRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCflr7zlh7rlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdlbmVyYXRlRXhjZWw6IGZ1bmN0aW9uIGdlbmVyYXRlRXhjZWwoZXhwb3J0RGF0YSkgewogICAgICB2YXIgd2IgPSBYTFNYLnV0aWxzLmJvb2tfbmV3KCk7CiAgICAgIHZhciB3cyA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChleHBvcnREYXRhKTsKICAgICAgdmFyIHdzY29scyA9IFt7CiAgICAgICAgd2NoOiAzMAogICAgICB9LCB7CiAgICAgICAgd2NoOiAzMAogICAgICB9LCB7CiAgICAgICAgd2NoOiAzMAogICAgICB9LCB7CiAgICAgICAgd2NoOiAzMAogICAgICB9LCB7CiAgICAgICAgd2NoOiAzMAogICAgICB9LCB7CiAgICAgICAgd2NoOiAzMAogICAgICB9XTsKICAgICAgd3NbJyFjb2xzJ10gPSB3c2NvbHM7CiAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod2IsIHdzLCAn6YeH6LSt6K6w5b2V5a+85Ye6Jyk7CiAgICAgIHZhciB3Ym91dCA9IFhMU1gud3JpdGUod2IsIHsKICAgICAgICBib29rVHlwZTogJ3hsc3gnLAogICAgICAgIHR5cGU6ICdiaW5hcnknCiAgICAgIH0pOwogICAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKHdib3V0Lmxlbmd0aCk7CiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3Ym91dC5sZW5ndGg7IGkrKykgewogICAgICAgIHZpZXdbaV0gPSB3Ym91dC5jaGFyQ29kZUF0KGkpICYgMHhGRjsKICAgICAgfQogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtidWZdLCB7CiAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScKICAgICAgfSk7CiAgICAgIEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgJ+mHh+i0reiusOW9leWvvOWHui54bHN4Jyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["dayjs","XLSX","FileSaver","getPurchaseRecordsManagementListAPI","foodSafetyChain","name","components","data","total","listLoading","infoVisible","recordsList","formData","page","limit","formInline","stallNo","purchaserPhoneNumber","businessName","goodsName","purchaseTime","created","getPurchaseRecordsManagementList","methods","_this","dealTimeStart","dealTimeEnd","length","_this$formData$formIn","_slicedToArray","startDate","endDate","format","params","boothNo","buyerMobileNo","proprietorName","then","res","Number","count","openOperateDialog","row","_this2","$nextTick","$refs","info","init","goodsDealDetailId","sizeChangeHandle","val","currentChangeHandle","onSearch","onReset","onExport","_this3","code","exportData","map","item","dealTime","goodsWeight","unit","generateExcel","$message","error","wb","utils","book_new","ws","json_to_sheet","wscols","wch","book_append_sheet","wbout","write","bookType","type","buf","ArrayBuffer","view","Uint8Array","i","charCodeAt","blob","Blob","saveAs"],"sources":["src/views/purchaseManagement/purchaseRecords.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :inline=\"true\" :model=\"formData.formInline\" class=\"demo-form-inline\">\n      <el-form-item class=\"el-form-item\" label=\"摊位号：\">\n        <el-input v-model=\"formData.formInline.stallNo\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"采购商手机号：\">\n        <el-input v-model=\"formData.formInline.purchaserPhoneNumber\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"商户名称：\">\n        <el-input v-model=\"formData.formInline.businessName\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"商品名称：\">\n        <el-input v-model=\"formData.formInline.goodsName\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"采购时间：\">\n        <el-date-picker\n          v-model=\"formData.formInline.purchaseTime\"\n          format=\"yyyy-MM-dd\"\n          type=\"daterange\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          style=\"margin-top: 6px;\"\n        />\n      </el-form-item>\n      <el-form-item class=\"button-group\">\n        <el-button type=\"primary\" class=\"search-btn\" @click=\"onSearch\">搜索</el-button>\n        <el-button type=\"primary\" class=\"reset-btn\" @click=\"onReset\">重置</el-button>\n        <el-button type=\"primary\" class=\"export-btn\" @click=\"onExport\">导出</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"recordsList\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;margin-top: 15px;\"\n    >\n      <el-table-column label=\"采购时间\">\n        <template slot-scope=\"scope\">\n          <span style=\"font-size: 15px; color: #999999;\">{{ scope.row.dealTime || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采购商手机号\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.buyerMobileNo || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"摊位号\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.boothNo || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商户名称\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.proprietorName || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商品名称\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.goodsName || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采购量\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.goodsWeight + scope.row.unit || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"openOperateDialog(scope.row)\">食安链条</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <foodSafetyChain v-if=\"infoVisible\" ref=\"info\" />\n    <el-pagination\n      style=\"margin-top: 20px;\"\n      :current-page=\"formData.page\"\n      :page-sizes=\"[10, 20, 50, 100]\"\n      :page-size=\"formData.limit\"\n      :total=\"total\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      @size-change=\"sizeChangeHandle\"\n      @current-change=\"currentChangeHandle\"\n    />\n  </div>\n</template>\n\n<script>\nimport dayjs from 'dayjs'\nimport XLSX from 'xlsx'\nimport FileSaver from 'file-saver'\nimport { getPurchaseRecordsManagementListAPI } from '@/api/purchaseManagement'\nimport foodSafetyChain from './foodSafetyChain'\nexport default {\n  name: 'ArticleList',\n  components: {\n    foodSafetyChain\n  },\n  data() {\n    return {\n      total: 0,\n      listLoading: true,\n      infoVisible: false,\n      recordsList: [],\n      formData: {\n        page: 1,\n        limit: 10,\n        formInline: {\n          // 摊位号\n          stallNo: '',\n          // 采购商手机号\n          purchaserPhoneNumber: '',\n          // 商户名称\n          businessName: '',\n          // 商品名称\n          goodsName: '',\n          // 采购时间\n          purchaseTime: null\n        }\n      }\n    }\n  },\n  created() {\n    this.getPurchaseRecordsManagementList()\n  },\n  methods: {\n    getPurchaseRecordsManagementList() {\n      this.listLoading = true\n      let dealTimeStart = ''\n      let dealTimeEnd = ''\n      if (this.formData.formInline.purchaseTime && this.formData.formInline.purchaseTime.length === 2) {\n        const [startDate, endDate] = this.formData.formInline.purchaseTime\n        dealTimeStart = dayjs(startDate).format('YYYY-MM-DD')\n        dealTimeEnd = dayjs(endDate).format('YYYY-MM-DD')\n      }\n      const params = {\n        limit: this.formData.limit,\n        page: this.formData.page,\n        boothNo: this.formData.formInline.stallNo,\n        buyerMobileNo: this.formData.formInline.purchaserPhoneNumber,\n        dealTimeStart,\n        dealTimeEnd,\n        goodsName: this.formData.formInline.goodsName,\n        proprietorName: this.formData.formInline.businessName\n      }\n      getPurchaseRecordsManagementListAPI(params).then(res => {\n        this.recordsList = res.data\n        this.total = Number(res.count)\n        this.listLoading = false\n      })\n    },\n    openOperateDialog(row) {\n      this.infoVisible = true\n      this.$nextTick(() => {\n        this.$refs.info.init(row.goodsDealDetailId)\n      })\n    },\n    sizeChangeHandle(val) {\n      this.formData.limit = val\n      this.formData.page = 1\n      this.getPurchaseRecordsManagementList()\n    },\n    currentChangeHandle(val) {\n      this.formData.page = val\n      this.getPurchaseRecordsManagementList()\n    },\n    onSearch() {\n      this.formData.page = 1\n      // this.formData.limit = 10\n      this.getPurchaseRecordsManagementList()\n    },\n    onReset() {\n      this.formData.formInline.stallNo = ''\n      this.formData.formInline.purchaserPhoneNumber = ''\n      this.formData.formInline.businessName = ''\n      this.formData.formInline.goodsName = ''\n      this.formData.formInline.purchaseTime = null\n      this.getPurchaseRecordsManagementList()\n    },\n    onExport() {\n      const params = {\n        limit: 999999,\n        page: 1,\n        boothNo: '',\n        buyerMobileNo: '',\n        dealTimeStart: '',\n        dealTimeEnd: '',\n        goodsName: '',\n        proprietorName: ''\n      }\n      getPurchaseRecordsManagementListAPI(params).then(res => {\n        if (res.code === 0 && res.data) {\n          const exportData = res.data.map(item => {\n            return {\n              '采购时间': item.dealTime,\n              '采购商手机号': item.buyerMobileNo,\n              '摊位号': item.boothNo,\n              '商户名称': item.proprietorName,\n              '商品名称': item.goodsName,\n              '采购量': item.goodsWeight + item.unit\n            }\n          })\n          this.generateExcel(exportData)\n        } else {\n          this.$message.error('导出失败')\n        }\n      })\n    },\n    generateExcel(exportData) {\n      const wb = XLSX.utils.book_new()\n      const ws = XLSX.utils.json_to_sheet(exportData)\n      const wscols = [{ wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }]\n      ws['!cols'] = wscols\n      XLSX.utils.book_append_sheet(wb, ws, '采购记录导出')\n      const wbout = XLSX.write(wb, { bookType: 'xlsx', type: 'binary' })\n      const buf = new ArrayBuffer(wbout.length)\n      const view = new Uint8Array(buf)\n      for (let i = 0; i < wbout.length; i++) {\n        view[i] = wbout.charCodeAt(i) & 0xFF\n      }\n      const blob = new Blob([buf], { type: 'application/octet-stream' })\n      FileSaver.saveAs(blob, '采购记录导出.xlsx')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-container {\n  .demo-form-inline {\n    .el-form-item {\n      margin-right: 40px;\n      margin-bottom: 10px;\n\n      .search-btn {\n        margin-right: 6px;\n      }\n\n      .reset-btn {\n        margin-right: 6px;\n      }\n\n      .export-btn {\n        margin-top: 6px;\n      }\n    }\n  }\n\n  // 日期选择器样式\n  :deep(.el-date-editor) {\n    margin-top: 6px;\n  }\n}\n\n.edit-input {\n  padding-right: 100px;\n}\n\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n\n.demo-form-inline {\n  width: 100%;\n\n  .el-form-item {\n    margin-right: 30px;\n\n    .el-input {\n      width: 250px;\n      margin-top: 6px;\n    }\n  }\n\n}\n\n.button-group {\n\n  .search-btn,\n  .export-btn {\n    background-color: #2f58e3;\n    border: #2f58e3;\n  }\n\n  .reset-btn {\n    background-color: #ff2727;\n    border: #ff2727;\n  }\n\n  .el-button {\n    margin-right: 10px;\n    padding-left: 30px;\n    padding-right: 30px;\n    border-radius: 2px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}