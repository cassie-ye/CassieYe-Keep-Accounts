(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-748649ce"],{1:function(e,a){},2:function(e,a){},3:function(e,a){},3151:function(e,a,t){},8029:function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formData.formInline}},[t("el-form-item",{staticClass:"el-form-item",attrs:{label:"配货摊位号："}},[t("el-input",{attrs:{placeholder:"输入搜索关键词"},model:{value:e.formData.formInline.allocateStallNo,callback:function(a){e.$set(e.formData.formInline,"allocateStallNo",a)},expression:"formData.formInline.allocateStallNo"}})],1),t("el-form-item",{staticClass:"el-form-item",attrs:{label:"配货商户名称："}},[t("el-input",{attrs:{placeholder:"输入搜索关键词"},model:{value:e.formData.formInline.allocateBusinessName,callback:function(a){e.$set(e.formData.formInline,"allocateBusinessName",a)},expression:"formData.formInline.allocateBusinessName"}})],1),t("el-form-item",{staticClass:"el-form-item",attrs:{label:"配货市场："}},[t("el-input",{attrs:{placeholder:"输入搜索关键词"},model:{value:e.formData.formInline.allocateMarketName,callback:function(a){e.$set(e.formData.formInline,"allocateMarketName",a)},expression:"formData.formInline.allocateMarketName"}})],1),t("el-form-item",{staticClass:"el-form-item",attrs:{label:"供货摊位号："}},[t("el-input",{attrs:{placeholder:"输入搜索关键词"},model:{value:e.formData.formInline.provideStallNo,callback:function(a){e.$set(e.formData.formInline,"provideStallNo",a)},expression:"formData.formInline.provideStallNo"}})],1),t("el-form-item",{staticClass:"el-form-item",attrs:{label:"供货商户名称："}},[t("el-input",{attrs:{placeholder:"输入搜索关键词"},model:{value:e.formData.formInline.provideBusinessName,callback:function(a){e.$set(e.formData.formInline,"provideBusinessName",a)},expression:"formData.formInline.provideBusinessName"}})],1),t("el-form-item",{staticClass:"el-form-item",attrs:{label:"供货市场："}},[t("el-input",{attrs:{placeholder:"输入搜索关键词"},model:{value:e.formData.formInline.provideMarketName,callback:function(a){e.$set(e.formData.formInline,"provideMarketName",a)},expression:"formData.formInline.provideMarketName"}})],1),t("el-form-item",{staticClass:"el-form-item",attrs:{label:"商品名称："}},[t("el-input",{attrs:{placeholder:"输入搜索关键词"},model:{value:e.formData.formInline.goodsName,callback:function(a){e.$set(e.formData.formInline,"goodsName",a)},expression:"formData.formInline.goodsName"}})],1),t("el-form-item",{staticClass:"el-form-item",staticStyle:{"margin-top":"-6px"},attrs:{label:"配货时间："}},[t("el-date-picker",{staticStyle:{"margin-top":"6px"},attrs:{format:"yyyy-MM-dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formData.formInline.allocateTime,callback:function(a){e.$set(e.formData.formInline,"allocateTime",a)},expression:"formData.formInline.allocateTime"}})],1),t("el-form-item",{staticClass:"button-group"},[t("el-button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")]),t("el-button",{staticClass:"reset-btn",attrs:{type:"primary"},on:{click:e.onReset}},[e._v("重置")]),t("el-button",{staticClass:"export-btn",attrs:{type:"primary"},on:{click:e.onExport}},[e._v("导出")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.recordsList,border:"",fit:"","highlight-current-row":""}},[t("el-table-column",{attrs:{label:"配货时间"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{"font-size":"15px",color:"#999999"}},[e._v(e._s(a.row.dealTime||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"配货摊位号"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.boothNoBuyer||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"配货市场"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.proprietorNameBuyer||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"配货商户名称"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.marketNameBuyer||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"供货摊位"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.boothNo||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"供货市场"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.proprietorName||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"供货商户名称"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.marketName||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.goodsName||"暂无"))])]}}])}),t("el-table-column",{attrs:{label:"采购量"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.goodsWeight+a.row.unit||"暂无"))])]}}])})],1),t("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":e.formData.page,"page-sizes":[10,20,50,100],"page-size":e.formData.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)},l=[],r=t("3835"),n=(t("d81d"),t("c19f"),t("ace4"),t("a9e3"),t("d3b7"),t("5cc6"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("a573"),t("b775"));function i(e){return Object(n["a"])({url:"/demo/demobase/queryDemoGoodsDealSellerPagePC",method:"GET",params:e})}var s=t("5a0c"),m=t.n(s),c=t("1146"),f=t.n(c),u=t("21a6"),d=t.n(u),p={name:"ArticleList",data:function(){return{total:0,listLoading:!0,formData:{page:1,limit:10,formInline:{allocateStallNo:"",allocateBusinessName:"",allocateMarketName:"",provideStallNo:"",provideBusinessName:"",provideMarketName:"",goodsName:"",allocateTime:null}},recordsList:[],exportDataList:[]}},created:function(){this.getAllocateGoodsManagementList()},methods:{getAllocateGoodsManagementList:function(){var e=this;this.listLoading=!0;var a="",t="";if(this.formData.formInline.allocateTime&&2===this.formData.formInline.allocateTime.length){var o=Object(r["a"])(this.formData.formInline.allocateTime,2),l=o[0],n=o[1];a=m()(l).format("YYYY-MM-DD"),t=m()(n).format("YYYY-MM-DD")}var s={limit:this.formData.limit,page:this.formData.page,boothNo:this.formData.formInline.provideStallNo,boothNoBuyer:this.formData.formInline.allocateStallNo,dealTimeStart:a,dealTimeEnd:t,goodsName:this.formData.formInline.goodsName,marketName:this.formData.formInline.provideBusinessName,marketNameBuyer:this.formData.formInline.allocateBusinessName,proprietorName:this.formData.formInline.provideMarketName,proprietorNameBuyer:this.formData.formInline.allocateMarketName};i(s).then((function(a){e.recordsList=a.data,e.total=Number(a.count),e.listLoading=!1}))},sizeChangeHandle:function(e){this.formData.limit=e,this.formData.page=1,this.getAllocateGoodsManagementList()},currentChangeHandle:function(e){this.formData.page=e,this.getAllocateGoodsManagementList()},onSearch:function(){this.formData.page=1,this.getAllocateGoodsManagementList()},onReset:function(){this.formData.formInline.allocateStallNo="",this.formData.formInline.allocateBusinessName="",this.formData.formInline.allocateMarketName="",this.formData.formInline.provideStallNo="",this.formData.formInline.provideBusinessName="",this.formData.formInline.provideMarketName="",this.formData.formInline.goodsName="",this.formData.formInline.allocateTime=null,this.getAllocateGoodsManagementList()},onExport:function(){var e=this,a={limit:999999,page:1,boothNo:"",boothNoBuyer:"",dealTimeStart:"",dealTimeEnd:"",goodsName:"",marketName:"",marketNameBuyer:"",proprietorName:"",proprietorNameBuyer:""};i(a).then((function(a){if(0===a.code&&a.data){console.log(a.data);var t=a.data.map((function(e){return{"配货时间":e.dealTime,"配货摊位":e.boothNoBuyer,"配货市场":e.proprietorNameBuyer,"配货商户名称":e.marketNameBuyer,"供货摊位":e.boothNo,"供货市场":e.proprietorName,"供货商户名称":e.marketName,"商品名称":e.goodsName,"采购量":e.goodsWeight+e.unit}}));e.generateExcel(t)}else e.$message.error("导出失败")}))},generateExcel:function(e){var a=f.a.utils.book_new(),t=f.a.utils.json_to_sheet(e),o=[{wch:30},{wch:30},{wch:30},{wch:30},{wch:30},{wch:30},{wch:30},{wch:30},{wch:30},{wch:30}];t["!cols"]=o,f.a.utils.book_append_sheet(a,t,"配货记录导出");for(var l=f.a.write(a,{bookType:"xlsx",type:"binary"}),r=new ArrayBuffer(l.length),n=new Uint8Array(r),i=0;i<l.length;i++)n[i]=255&l.charCodeAt(i);var s=new Blob([r],{type:"application/octet-stream"});d.a.saveAs(s,"配货记录导出.xlsx")}}},h=p,N=(t("eca2"),t("2877")),b=Object(N["a"])(h,o,l,!1,null,"115dca54",null);a["default"]=b.exports},eca2:function(e,a,t){"use strict";t("3151")}}]);