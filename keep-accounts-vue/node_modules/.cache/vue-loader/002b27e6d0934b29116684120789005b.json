{"remainingRequest":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\src\\views\\purchaseManagement\\foodSafetyChain.vue?vue&type=style&index=0&id=661f2700&lang=scss&scoped=true","dependencies":[{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\src\\views\\purchaseManagement\\foodSafetyChain.vue","mtime":1733896152331},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1733119317109},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1733119318739},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1733119317751},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\github\\CassieYe-Keep-Accounts\\keep-accounts-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1733119318248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtaW5wdXQtbm9ib2RlciAuZWwtaW5wdXRfX2lubmVyIHsKICBib3JkZXI6IG5vbmU7Cn0KCi50aW1lbGluZS1jb250YWluZXIgewogIHBhZGRpbmc6IDIwcHggMzBweCAyMHB4IDIwcHg7CiAgaGVpZ2h0OiA0ODBweDsKICBvdmVyZmxvdy15OiBzY3JvbGw7CgogIC5jYXJkLWNvbnRlbnQgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwoKICAgICYtbGVmdCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIC8vIOmhtumDqOWvuem9kAogICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydCAhaW1wb3J0YW50OwoKICAgICAgJi10ZXh0IHsKICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsKCiAgICAgICAgLmZpcnN0IHsKICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDsKICAgICAgICAgIGNvbG9yOiAjNjY2NjY2OwogICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgIH0KCiAgICAgICAgLnBjTnVtIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwoKICAgICAgICAgIC5sb29rRGV0YWlsIHsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgICAgICAgIGNvbG9yOiAjNDA5RUZGOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAmLXRpbWUgewogICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgY29sb3I6ICM5OTk5OTk7CgogICAgICAgICAgLmVsLWljb24tdGltZSB7CiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogM3B4OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC5lbC1pY29uLW1vYmlsZS1waG9uZSwKICAgIC5lbC1pY29uLXRydWNrIHsKICAgICAgZm9udC1zaXplOiAzMHB4OwogICAgfQoKICAgIC50cnVjayB7CiAgICAgIHdpZHRoOiAzMHB4OwogICAgfQogIH0KfQoKLmNhcmQtY29udGVudC1sZWZ0IHsKICB3aWR0aDogOTAlOwp9CgovLyAuZWFjaC1jb250ZW50IHsKLy8gICAudG9wIHsKLy8gICAgIC5ibHVlLWNpcmNsZSB7Ci8vICAgICAgIHdpZHRoOiAxMy41cHg7Ci8vICAgICAgIGhlaWdodDogMTMuNXB4OwovLyAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7Ci8vICAgICAgIGJvcmRlcjogM3B4IHNvbGlkICM0MDlFRkY7Ci8vICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKCi8vICAgICAgIC5ncmV5LXNvbGlkIHsKLy8gICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7Ci8vICAgICAgICAgd2lkdGg6IDJweDsKLy8gICAgICAgICBoZWlnaHQ6IDE0cHg7Ci8vICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0MwQzBDMDsKLy8gICAgICAgICB0b3A6IDEwcHg7Ci8vICAgICAgICAgbGVmdDogM3B4OwovLyAgICAgICB9Ci8vICAgICB9Ci8vICAgfQovLyB9"},{"version":3,"sources":["foodSafetyChain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"foodSafetyChain.vue","sourceRoot":"src/views/purchaseManagement","sourcesContent":["<template>\n  <div>\n    <el-dialog :title=\"'食安链条'\" width=\"40%\" :close-on-click-modal=\"false\" :visible.sync=\"visible\">\n      <div class=\"timeline-container\">\n        <el-timeline>\n          <el-timeline-item :color=\"'#409eff'\" :timestamp=\"purchaseObj.dealTime || '暂无'\" placement=\"top\">\n            <el-card>\n              <div class=\"card-content\">\n                <div class=\"card-content-left\">\n                  <div>\n                    <i class=\"el-icon-mobile-phone\" />\n                  </div>\n                  <div class=\"card-content-left-text\">\n                    <div class=\"first\">采购商手机号：{{ purchaseObj.buyerMobileNo || \"暂无\" }}</div>\n                    <div class=\"card-content-left-text-time\">\n                      <i class=\"el-icon-time\" />\n                      <div>{{ purchaseObj.dealTime || \"暂无\" }}</div>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  采购\n                </div>\n              </div>\n            </el-card>\n          </el-timeline-item>\n          <template v-if=\"allocateList.length > 0\">\n            <el-timeline-item\n              v-for=\"(item, index) in allocateList\"\n              :key=\"index\"\n              :color=\"'#409eff'\"\n              :timestamp=\"item.dealTime || '暂无'\"\n              placement=\"top\"\n            >\n              <el-card>\n                <div class=\"card-content\">\n                  <div class=\"card-content-left\">\n                    <div>\n                      <i class=\"el-icon-mobile-phone\" />\n                    </div>\n                    <div class=\"card-content-left-text\">\n                      <div class=\"first\">摊位号：{{ item.boothNo || \"暂无\" }}</div>\n                      <div>商户名称：{{ item.proprietorName || \"暂无\" }}</div>\n                      <div class=\"card-content-left-text-time\">\n                        <i class=\"el-icon-time\" />\n                        <div>{{ item.dealTime || \"暂无\" }}</div>\n                      </div>\n                    </div>\n                  </div>\n                  <div>\n                    配货\n                  </div>\n                </div>\n              </el-card>\n            </el-timeline-item>\n          </template>\n          <el-timeline-item :color=\"'#409eff'\" :timestamp=\"enterVenueObj.entranceTime || '暂无'\" placement=\"top\">\n            <el-card>\n              <div class=\"card-content\">\n                <div class=\"card-content-left\">\n                  <div>\n                    <!-- <i class=\"el-icon-truck\" /> -->\n                    <img\n                      :src=\"'https://axhub.im/ax9/31c4b1bb79511517/images/%E9%87%87%E8%B4%AD%E8%AE%B0%E5%BD%95_1/u95.svg'\"\n                      alt=\"SVG Image\"\n                    >\n                  </div>\n                  <div class=\"card-content-left-text\">\n                    <div class=\"first\">摊位号：{{ enterVenueObj.boothName || \"暂无\" }}</div>\n                    <div class=\"first\">商户名称：{{ enterVenueObj.proprietorName || \"暂无\" }}</div>\n                    <div class=\"first\">产地：{{ enterVenueObj.divisionName || \"暂无\" }}</div>\n                    <div class=\"first pcNum\">\n                      <div>批次号：{{ enterVenueObj.traceCode || \"暂无\" }}</div>\n                      <div class=\"lookDetail\" @click=\"showBatchDetail()\">查看详情</div>\n                    </div>\n                    <div class=\"card-content-left-text-time\">\n                      <i class=\"el-icon-time\" />\n                      <div>{{ enterVenueObj.entranceTime || \"暂无\" }}</div>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  进场\n                </div>\n              </div>\n            </el-card>\n          </el-timeline-item>\n        </el-timeline>\n      </div>\n    </el-dialog>\n    <EntranceInfoDialog v-if=\"entranceInfoDialogVisible\" ref=\"entranceInfo\" />\n  </div>\n\n</template>\n\n<script>\nimport { getFoodSafetyChainDetailsAPI } from '@/api/purchaseManagement'\nimport EntranceInfoDialog from './EntranceInfoDialog'\nexport default {\n  components: {\n    EntranceInfoDialog\n  },\n  data() {\n    return {\n      visible: false,\n      goodsDealDetailId: null,\n      timelineData: [],\n      // 采购\n      purchaseObj: {},\n      // 配货\n      allocateList: [],\n      // 进场\n      enterVenueObj: {},\n      entranceInfoDialogVisible: false\n    }\n  },\n  created() {\n  },\n  methods: {\n    init(goodsDealDetailId) {\n      this.visible = true\n      this.goodsDealDetailId = goodsDealDetailId\n      this.getFoodSafetyChainDetails(this.goodsDealDetailId)\n    },\n    getFoodSafetyChainDetails(params) {\n      getFoodSafetyChainDetailsAPI(params).then(res => {\n        console.log('res', res)\n        this.purchaseObj = res.buy\n        this.allocateList = res.sell\n        this.enterVenueObj = res.entrance\n        if (this.enterVenueObj.vmEntranceLicenceEntityList.length > 0) {\n          this.enterVenueObj.vmEntranceLicenceEntityList.map((item) => {\n            if (item.picUrl) {\n              // item.picUrl = \"http://10.10.12.200:8087/njzc_demo\" + item.picUrl\n              item.picUrl = 'https://zsl.njnfwl.com/njzc_demo' + item.picUrl\n            }\n            return item\n          })\n        }\n      })\n    },\n    showBatchDetail() {\n      this.entranceInfoDialogVisible = true\n      this.$nextTick(() => {\n        this.$refs.entranceInfo.init(this.enterVenueObj)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-input-noboder .el-input__inner {\n  border: none;\n}\n\n.timeline-container {\n  padding: 20px 30px 20px 20px;\n  height: 480px;\n  overflow-y: scroll;\n\n  .card-content {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n\n    &-left {\n      display: flex;\n      // 顶部对齐\n      align-items: flex-start !important;\n\n      &-text {\n        margin-left: 20px;\n\n        .first {\n          font-size: 15px;\n          color: #666666;\n          margin-bottom: 8px;\n        }\n\n        .pcNum {\n          display: flex;\n          align-items: center;\n\n          .lookDetail {\n            margin-left: 10px;\n            color: #409EFF;\n            cursor: pointer;\n          }\n        }\n\n        &-time {\n          margin-top: 10px;\n          display: flex;\n          align-items: center;\n          color: #999999;\n\n          .el-icon-time {\n            margin-right: 3px;\n          }\n        }\n      }\n    }\n\n    .el-icon-mobile-phone,\n    .el-icon-truck {\n      font-size: 30px;\n    }\n\n    .truck {\n      width: 30px;\n    }\n  }\n}\n\n.card-content-left {\n  width: 90%;\n}\n\n// .each-content {\n//   .top {\n//     .blue-circle {\n//       width: 13.5px;\n//       height: 13.5px;\n//       border-radius: 50%;\n//       border: 3px solid #409EFF;\n//       position: relative;\n\n//       .grey-solid {\n//         position: absolute;\n//         width: 2px;\n//         height: 14px;\n//         background-color: #C0C0C0;\n//         top: 10px;\n//         left: 3px;\n//       }\n//     }\n//   }\n// }</style>\n"]}]}