{"remainingRequest":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\babel-loader\\lib\\index.js!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\src\\views\\purchaseManagement\\purchaseRecords.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\src\\views\\purchaseManagement\\purchaseRecords.vue","mtime":1733386311832},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\babel.config.js","mtime":1733119120270},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\babel-loader\\lib\\index.js","mtime":1733119317753},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\vue-loader\\lib\\index.js","mtime":1733119318248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkU6L215U3R1ZHkvZ3VveWFuL0ppYW5nU3UvXHU0RjE3XHU1RjY5L1x1NTM1N1x1NEVBQ1x1NEYxN1x1NUY2OVx1NTU0Nlx1NjIzN1x1NUM0RlBDL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKaW1wb3J0IFhMU1ggZnJvbSAneGxzeCc7CmltcG9ydCBGaWxlU2F2ZXIgZnJvbSAnZmlsZS1zYXZlcic7CmltcG9ydCB7IGdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0QVBJIH0gZnJvbSAnQC9hcGkvcHVyY2hhc2VNYW5hZ2VtZW50JzsKaW1wb3J0IEluZm8gZnJvbSAnLi90emNvbnRlbnQtaW5mbyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXJ0aWNsZUxpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIEluZm86IEluZm8KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbDogMCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGluZm9WaXNpYmxlOiBmYWxzZSwKICAgICAgcmVjb3Jkc0xpc3Q6IFtdLAogICAgICBmb3JtRGF0YTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICAgIC8vIOaRiuS9jeWPtwogICAgICAgICAgc3RhbGxObzogJycsCiAgICAgICAgICAvLyDph4fotK3llYbmiYvmnLrlj7cKICAgICAgICAgIHB1cmNoYXNlclBob25lTnVtYmVyOiAnJywKICAgICAgICAgIC8vIOWVhuaIt+WQjeensAogICAgICAgICAgYnVzaW5lc3NOYW1lOiAnJywKICAgICAgICAgIC8vIOWVhuWTgeWQjeensAogICAgICAgICAgZ29vZHNOYW1lOiAnJywKICAgICAgICAgIC8vIOmHh+i0reaXtumXtAogICAgICAgICAgcHVyY2hhc2VUaW1lOiBudWxsCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UHVyY2hhc2VSZWNvcmRzTWFuYWdlbWVudExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0OiBmdW5jdGlvbiBnZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBkZWFsVGltZVN0YXJ0ID0gJyc7CiAgICAgIHZhciBkZWFsVGltZUVuZCA9ICcnOwogICAgICBpZiAodGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnB1cmNoYXNlVGltZSAmJiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VUaW1lLmxlbmd0aCA9PT0gMikgewogICAgICAgIHZhciBfdGhpcyRmb3JtRGF0YSRmb3JtSW4gPSBfc2xpY2VkVG9BcnJheSh0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VUaW1lLCAyKSwKICAgICAgICAgIHN0YXJ0RGF0ZSA9IF90aGlzJGZvcm1EYXRhJGZvcm1JblswXSwKICAgICAgICAgIGVuZERhdGUgPSBfdGhpcyRmb3JtRGF0YSRmb3JtSW5bMV07CiAgICAgICAgZGVhbFRpbWVTdGFydCA9IGRheWpzKHN0YXJ0RGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgICAgZGVhbFRpbWVFbmQgPSBkYXlqcyhlbmREYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgfQogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGxpbWl0OiB0aGlzLmZvcm1EYXRhLmxpbWl0LAogICAgICAgIHBhZ2U6IHRoaXMuZm9ybURhdGEucGFnZSwKICAgICAgICBib290aE5vOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuc3RhbGxObywKICAgICAgICBidXllck1vYmlsZU5vOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VyUGhvbmVOdW1iZXIsCiAgICAgICAgZGVhbFRpbWVTdGFydDogZGVhbFRpbWVTdGFydCwKICAgICAgICBkZWFsVGltZUVuZDogZGVhbFRpbWVFbmQsCiAgICAgICAgZ29vZHNOYW1lOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuZ29vZHNOYW1lLAogICAgICAgIHByb3ByaWV0b3JOYW1lOiB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuYnVzaW5lc3NOYW1lCiAgICAgIH07CiAgICAgIGdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0QVBJKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucmVjb3Jkc0xpc3QgPSByZXMuZGF0YTsKICAgICAgICBfdGhpcy50b3RhbCA9IE51bWJlcihyZXMuY291bnQpOwogICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5PcGVyYXRlRGlhbG9nOiBmdW5jdGlvbiBvcGVuT3BlcmF0ZURpYWxvZyhyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuaW5mb1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRyZWZzLmluZm8uaW5pdChyb3cuZ29vZHNEZWFsSWQpOwogICAgICB9KTsKICAgIH0sCiAgICBzaXplQ2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhLmxpbWl0ID0gdmFsOwogICAgICB0aGlzLmZvcm1EYXRhLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0KCk7CiAgICB9LAogICAgY3VycmVudENoYW5nZUhhbmRsZTogZnVuY3Rpb24gY3VycmVudENoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5wYWdlID0gdmFsOwogICAgICB0aGlzLmdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0KCk7CiAgICB9LAogICAgb25TZWFyY2g6IGZ1bmN0aW9uIG9uU2VhcmNoKCkgewogICAgICB0aGlzLmdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0KCk7CiAgICB9LAogICAgb25SZXNldDogZnVuY3Rpb24gb25SZXNldCgpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnN0YWxsTm8gPSAnJzsKICAgICAgdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnB1cmNoYXNlclBob25lTnVtYmVyID0gJyc7CiAgICAgIHRoaXMuZm9ybURhdGEuZm9ybUlubGluZS5idXNpbmVzc05hbWUgPSAnJzsKICAgICAgdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLmdvb2RzTmFtZSA9ICcnOwogICAgICB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VUaW1lID0gbnVsbDsKICAgICAgdGhpcy5nZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdCgpOwogICAgfSwKICAgIG9uRXhwb3J0OiBmdW5jdGlvbiBvbkV4cG9ydCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgbGltaXQ6IDk5OTk5OSwKICAgICAgICBwYWdlOiAxLAogICAgICAgIGJvb3RoTm86ICcnLAogICAgICAgIGJ1eWVyTW9iaWxlTm86ICcnLAogICAgICAgIGRlYWxUaW1lU3RhcnQ6ICcnLAogICAgICAgIGRlYWxUaW1lRW5kOiAnJywKICAgICAgICBnb29kc05hbWU6ICcnLAogICAgICAgIHByb3ByaWV0b3JOYW1lOiAnJwogICAgICB9OwogICAgICBnZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdEFQSShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCAmJiByZXMuZGF0YSkgewogICAgICAgICAgdmFyIGV4cG9ydERhdGEgPSByZXMuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAn6YeH6LSt5pe26Ze0JzogaXRlbS5kZWFsVGltZSwKICAgICAgICAgICAgICAn6YeH6LSt5ZWG5omL5py65Y+3JzogaXRlbS5idXllck1vYmlsZU5vLAogICAgICAgICAgICAgICfmkYrkvY3lj7cnOiBpdGVtLmJvb3RoTm8sCiAgICAgICAgICAgICAgJ+WVhuaIt+WQjeensCc6IGl0ZW0ucHJvcHJpZXRvck5hbWUsCiAgICAgICAgICAgICAgJ+WVhuWTgeWQjeensCc6IGl0ZW0uZ29vZHNOYW1lLAogICAgICAgICAgICAgICfph4fotK3ph48nOiBpdGVtLmdvb2RzV2VpZ2h0ICsgaXRlbS51bml0CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy5nZW5lcmF0ZUV4Y2VsKGV4cG9ydERhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoJ+WvvOWHuuWksei0pScpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVFeGNlbDogZnVuY3Rpb24gZ2VuZXJhdGVFeGNlbChleHBvcnREYXRhKSB7CiAgICAgIHZhciB3YiA9IFhMU1gudXRpbHMuYm9va19uZXcoKTsKICAgICAgdmFyIHdzID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGV4cG9ydERhdGEpOwogICAgICB2YXIgd3Njb2xzID0gW3sKICAgICAgICB3Y2g6IDMwCiAgICAgIH0sIHsKICAgICAgICB3Y2g6IDMwCiAgICAgIH0sIHsKICAgICAgICB3Y2g6IDMwCiAgICAgIH0sIHsKICAgICAgICB3Y2g6IDMwCiAgICAgIH0sIHsKICAgICAgICB3Y2g6IDMwCiAgICAgIH0sIHsKICAgICAgICB3Y2g6IDMwCiAgICAgIH1dOwogICAgICB3c1snIWNvbHMnXSA9IHdzY29sczsKICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3Yiwgd3MsICfph4fotK3orrDlvZXlr7zlh7onKTsKICAgICAgdmFyIHdib3V0ID0gWExTWC53cml0ZSh3YiwgewogICAgICAgIGJvb2tUeXBlOiAneGxzeCcsCiAgICAgICAgdHlwZTogJ2JpbmFyeScKICAgICAgfSk7CiAgICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIod2JvdXQubGVuZ3RoKTsKICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdib3V0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmlld1tpXSA9IHdib3V0LmNoYXJDb2RlQXQoaSkgJiAweEZGOwogICAgICB9CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2J1Zl0sIHsKICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJwogICAgICB9KTsKICAgICAgRmlsZVNhdmVyLnNhdmVBcyhibG9iLCAn6YeH6LSt6K6w5b2V5a+85Ye6Lnhsc3gnKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["dayjs","XLSX","FileSaver","getPurchaseRecordsManagementListAPI","Info","name","components","data","total","listLoading","infoVisible","recordsList","formData","page","limit","formInline","stallNo","purchaserPhoneNumber","businessName","goodsName","purchaseTime","created","getPurchaseRecordsManagementList","methods","_this","dealTimeStart","dealTimeEnd","length","_this$formData$formIn","_slicedToArray","startDate","endDate","format","params","boothNo","buyerMobileNo","proprietorName","then","res","Number","count","openOperateDialog","row","_this2","$nextTick","$refs","info","init","goodsDealId","sizeChangeHandle","val","currentChangeHandle","onSearch","onReset","onExport","_this3","code","exportData","map","item","dealTime","goodsWeight","unit","generateExcel","$message","error","wb","utils","book_new","ws","json_to_sheet","wscols","wch","book_append_sheet","wbout","write","bookType","type","buf","ArrayBuffer","view","Uint8Array","i","charCodeAt","blob","Blob","saveAs"],"sources":["src/views/purchaseManagement/purchaseRecords.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :inline=\"true\" :model=\"formData.formInline\" class=\"demo-form-inline\">\n      <el-form-item class=\"el-form-item\" label=\"摊位号：\">\n        <el-input v-model=\"formData.formInline.stallNo\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"采购商手机号：\">\n        <el-input v-model=\"formData.formInline.purchaserPhoneNumber\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"商户名称：\">\n        <el-input v-model=\"formData.formInline.businessName\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"商品名称：\">\n        <el-input v-model=\"formData.formInline.goodsName\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"采购时间：\">\n        <el-date-picker\n          v-model=\"formData.formInline.purchaseTime\"\n          format=\"yyyy-MM-dd\"\n          type=\"daterange\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          style=\"margin-top: 6px;\"\n        />\n      </el-form-item>\n      <el-form-item class=\"button-group\">\n        <el-button type=\"primary\" class=\"search-btn\" @click=\"onSearch\">搜索</el-button>\n        <el-button type=\"primary\" class=\"reset-btn\" @click=\"onReset\">重置</el-button>\n        <el-button type=\"primary\" class=\"export-btn\" @click=\"onExport\">导出</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"recordsList\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;margin-top: 15px;\"\n    >\n      <el-table-column label=\"采购时间\">\n        <template slot-scope=\"scope\">\n          <span style=\"font-size: 15px; color: #999999;\">{{ scope.row.dealTime || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采购商手机号\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.buyerMobileNo || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"摊位号\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.boothNo || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商户名称\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.proprietorName || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商品名称\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.goodsName || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采购量\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.goodsWeight + scope.row.unit || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"openOperateDialog(scope.row)\">食安链条</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <info v-if=\"infoVisible\" ref=\"info\" />\n    <el-pagination\n      style=\"margin-top: 20px;\"\n      :current-page=\"formData.page\"\n      :page-sizes=\"[10, 20, 50, 100]\"\n      :page-size=\"formData.limit\"\n      :total=\"total\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      @size-change=\"sizeChangeHandle\"\n      @current-change=\"currentChangeHandle\"\n    />\n  </div>\n</template>\n\n<script>\nimport dayjs from 'dayjs'\nimport XLSX from 'xlsx'\nimport FileSaver from 'file-saver'\nimport { getPurchaseRecordsManagementListAPI } from '@/api/purchaseManagement'\nimport Info from './tzcontent-info'\nexport default {\n  name: 'ArticleList',\n  components: {\n    Info\n  },\n  data() {\n    return {\n      total: 0,\n      listLoading: true,\n      infoVisible: false,\n      recordsList: [],\n      formData: {\n        page: 1,\n        limit: 10,\n        formInline: {\n          // 摊位号\n          stallNo: '',\n          // 采购商手机号\n          purchaserPhoneNumber: '',\n          // 商户名称\n          businessName: '',\n          // 商品名称\n          goodsName: '',\n          // 采购时间\n          purchaseTime: null\n        }\n      }\n    }\n  },\n  created() {\n    this.getPurchaseRecordsManagementList()\n  },\n  methods: {\n    getPurchaseRecordsManagementList() {\n      this.listLoading = true\n      let dealTimeStart = ''\n      let dealTimeEnd = ''\n      if (this.formData.formInline.purchaseTime && this.formData.formInline.purchaseTime.length === 2) {\n        const [startDate, endDate] = this.formData.formInline.purchaseTime\n        dealTimeStart = dayjs(startDate).format('YYYY-MM-DD')\n        dealTimeEnd = dayjs(endDate).format('YYYY-MM-DD')\n      }\n      const params = {\n        limit: this.formData.limit,\n        page: this.formData.page,\n        boothNo: this.formData.formInline.stallNo,\n        buyerMobileNo: this.formData.formInline.purchaserPhoneNumber,\n        dealTimeStart,\n        dealTimeEnd,\n        goodsName: this.formData.formInline.goodsName,\n        proprietorName: this.formData.formInline.businessName\n      }\n      getPurchaseRecordsManagementListAPI(params).then(res => {\n        this.recordsList = res.data\n        this.total = Number(res.count)\n        this.listLoading = false\n      })\n    },\n    openOperateDialog(row) {\n      this.infoVisible = true\n      this.$nextTick(() => {\n        this.$refs.info.init(row.goodsDealId)\n      })\n    },\n    sizeChangeHandle(val) {\n      this.formData.limit = val\n      this.formData.page = 1\n      this.getPurchaseRecordsManagementList()\n    },\n    currentChangeHandle(val) {\n      this.formData.page = val\n      this.getPurchaseRecordsManagementList()\n    },\n    onSearch() {\n      this.getPurchaseRecordsManagementList()\n    },\n    onReset() {\n      this.formData.formInline.stallNo = ''\n      this.formData.formInline.purchaserPhoneNumber = ''\n      this.formData.formInline.businessName = ''\n      this.formData.formInline.goodsName = ''\n      this.formData.formInline.purchaseTime = null\n      this.getPurchaseRecordsManagementList()\n    },\n    onExport() {\n      const params = {\n        limit: 999999,\n        page: 1,\n        boothNo: '',\n        buyerMobileNo: '',\n        dealTimeStart: '',\n        dealTimeEnd: '',\n        goodsName: '',\n        proprietorName: ''\n      }\n      getPurchaseRecordsManagementListAPI(params).then(res => {\n        if (res.code === 0 && res.data) {\n          const exportData = res.data.map(item => {\n            return {\n              '采购时间': item.dealTime,\n              '采购商手机号': item.buyerMobileNo,\n              '摊位号': item.boothNo,\n              '商户名称': item.proprietorName,\n              '商品名称': item.goodsName,\n              '采购量': item.goodsWeight + item.unit\n            }\n          })\n          this.generateExcel(exportData)\n        } else {\n          this.$message.error('导出失败')\n        }\n      })\n    },\n    generateExcel(exportData) {\n      const wb = XLSX.utils.book_new()\n      const ws = XLSX.utils.json_to_sheet(exportData)\n      const wscols = [{ wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }]\n      ws['!cols'] = wscols\n      XLSX.utils.book_append_sheet(wb, ws, '采购记录导出')\n      const wbout = XLSX.write(wb, { bookType: 'xlsx', type: 'binary' })\n      const buf = new ArrayBuffer(wbout.length)\n      const view = new Uint8Array(buf)\n      for (let i = 0; i < wbout.length; i++) {\n        view[i] = wbout.charCodeAt(i) & 0xFF\n      }\n      const blob = new Blob([buf], { type: 'application/octet-stream' })\n      FileSaver.saveAs(blob, '采购记录导出.xlsx')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-container {\n  .demo-form-inline {\n    .el-form-item {\n      margin-right: 40px;\n      margin-bottom: 10px;\n\n      .search-btn {\n        margin-right: 6px;\n      }\n\n      .reset-btn {\n        margin-right: 6px;\n      }\n\n      .export-btn {\n        margin-top: 6px;\n      }\n    }\n  }\n\n  // 日期选择器样式\n  :deep(.el-date-editor) {\n    margin-top: 6px;\n  }\n}\n\n.edit-input {\n  padding-right: 100px;\n}\n\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n\n.demo-form-inline {\n  width: 100%;\n\n  .el-form-item {\n    margin-right: 30px;\n\n    .el-input {\n      width: 250px;\n      margin-top: 6px;\n    }\n  }\n\n}\n\n.button-group {\n\n  .search-btn,\n  .export-btn {\n    background-color: #2f58e3;\n    border: #2f58e3;\n  }\n\n  .reset-btn {\n    background-color: #ff2727;\n    border: #ff2727;\n  }\n\n  .el-button {\n    margin-right: 10px;\n    padding-left: 30px;\n    padding-right: 30px;\n    border-radius: 2px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}