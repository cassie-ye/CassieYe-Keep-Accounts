{"remainingRequest":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\babel-loader\\lib\\index.js!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\src\\components\\Dropzone\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\src\\components\\Dropzone\\index.vue","mtime":1733119120285},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\babel.config.js","mtime":1733119120270},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\babel-loader\\lib\\index.js","mtime":1733119317753},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\vue-loader\\lib\\index.js","mtime":1733119318248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgRHJvcHpvbmUgZnJvbSAnZHJvcHpvbmUnOwppbXBvcnQgJ2Ryb3B6b25lL2Rpc3QvZHJvcHpvbmUuY3NzJzsKLy8gaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICdhcGkvcWluaXUnOwoKRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY2xpY2thYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBkZWZhdWx0TXNnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+S4iuS8oOWbvueJhycKICAgIH0sCiAgICBhY2NlcHRlZEZpbGVzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB0aHVtYm5haWxIZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAKICAgIH0sCiAgICB0aHVtYm5haWxXaWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMAogICAgfSwKICAgIHNob3dSZW1vdmVMaW5rOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBtYXhGaWxlc2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIKICAgIH0sCiAgICBtYXhGaWxlczogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDMKICAgIH0sCiAgICBhdXRvUHJvY2Vzc1F1ZXVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICB1c2VDdXN0b21Ecm9wem9uZU9wdGlvbnM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkZWZhdWx0SW1nOiB7CiAgICAgIGRlZmF1bHQ6ICcnLAogICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheV0KICAgIH0sCiAgICBjb3VsZFBhc3RlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZHJvcHpvbmU6ICcnLAogICAgICBpbml0T25jZTogdHJ1ZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBkZWZhdWx0SW1nOiBmdW5jdGlvbiBkZWZhdWx0SW1nKHZhbCkgewogICAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuaW5pdE9uY2UgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmluaXRPbmNlKSByZXR1cm47CiAgICAgIHRoaXMuaW5pdEltYWdlcyh2YWwpOwogICAgICB0aGlzLmluaXRPbmNlID0gZmFsc2U7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTsKICAgIHZhciB2bSA9IHRoaXM7CiAgICB0aGlzLmRyb3B6b25lID0gbmV3IERyb3B6b25lKGVsZW1lbnQsIHsKICAgICAgY2xpY2thYmxlOiB0aGlzLmNsaWNrYWJsZSwKICAgICAgdGh1bWJuYWlsV2lkdGg6IHRoaXMudGh1bWJuYWlsV2lkdGgsCiAgICAgIHRodW1ibmFpbEhlaWdodDogdGhpcy50aHVtYm5haWxIZWlnaHQsCiAgICAgIG1heEZpbGVzOiB0aGlzLm1heEZpbGVzLAogICAgICBtYXhGaWxlc2l6ZTogdGhpcy5tYXhGaWxlc2l6ZSwKICAgICAgZGljdFJlbW92ZUZpbGU6ICdSZW1vdmUnLAogICAgICBhZGRSZW1vdmVMaW5rczogdGhpcy5zaG93UmVtb3ZlTGluaywKICAgICAgYWNjZXB0ZWRGaWxlczogdGhpcy5hY2NlcHRlZEZpbGVzLAogICAgICBhdXRvUHJvY2Vzc1F1ZXVlOiB0aGlzLmF1dG9Qcm9jZXNzUXVldWUsCiAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJzxpIHN0eWxlPSJtYXJnaW4tdG9wOiAzZW07ZGlzcGxheTogaW5saW5lLWJsb2NrIiBjbGFzcz0ibWF0ZXJpYWwtaWNvbnMiPicgKyB0aGlzLmRlZmF1bHRNc2cgKyAnPC9pPjxicj5Ecm9wIGZpbGVzIGhlcmUgdG8gdXBsb2FkJywKICAgICAgZGljdE1heEZpbGVzRXhjZWVkZWQ6ICflj6rog73kuIDkuKrlm74nLAogICAgICBwcmV2aWV3VGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJkei1wcmV2aWV3IGR6LWZpbGUtcHJldmlldyI+ICA8ZGl2IGNsYXNzPSJkei1pbWFnZSIgc3R5bGU9IndpZHRoOicgKyB0aGlzLnRodW1ibmFpbFdpZHRoICsgJ3B4O2hlaWdodDonICsgdGhpcy50aHVtYm5haWxIZWlnaHQgKyAncHgiID48aW1nIHN0eWxlPSJ3aWR0aDonICsgdGhpcy50aHVtYm5haWxXaWR0aCArICdweDtoZWlnaHQ6JyArIHRoaXMudGh1bWJuYWlsSGVpZ2h0ICsgJ3B4IiBkYXRhLWR6LXRodW1ibmFpbCAvPjwvZGl2PiAgPGRpdiBjbGFzcz0iZHotZGV0YWlscyI+PGRpdiBjbGFzcz0iZHotc2l6ZSI+PHNwYW4gZGF0YS1kei1zaXplPjwvc3Bhbj48L2Rpdj4gPGRpdiBjbGFzcz0iZHotcHJvZ3Jlc3MiPjxzcGFuIGNsYXNzPSJkei11cGxvYWQiIGRhdGEtZHotdXBsb2FkcHJvZ3Jlc3M+PC9zcGFuPjwvZGl2PiAgPGRpdiBjbGFzcz0iZHotZXJyb3ItbWVzc2FnZSI+PHNwYW4gZGF0YS1kei1lcnJvcm1lc3NhZ2U+PC9zcGFuPjwvZGl2PiAgPGRpdiBjbGFzcz0iZHotc3VjY2Vzcy1tYXJrIj4gPGkgY2xhc3M9Im1hdGVyaWFsLWljb25zIj5kb25lPC9pPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImR6LWVycm9yLW1hcmsiPjxpIGNsYXNzPSJtYXRlcmlhbC1pY29ucyI+ZXJyb3I8L2k+PC9kaXY+PC9kaXY+JywKICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciB2YWwgPSB2bS5kZWZhdWx0SW1nOwogICAgICAgIGlmICghdmFsKSByZXR1cm47CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICAgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgICAgIHZhbC5tYXAoZnVuY3Rpb24gKHYsIGkpIHsKICAgICAgICAgICAgdmFyIG1vY2tGaWxlID0gewogICAgICAgICAgICAgIG5hbWU6ICduYW1lJyArIGksCiAgICAgICAgICAgICAgc2l6ZTogMTIzNDUsCiAgICAgICAgICAgICAgdXJsOiB2CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIF90aGlzLm9wdGlvbnMuYWRkZWRmaWxlLmNhbGwoX3RoaXMsIG1vY2tGaWxlKTsKICAgICAgICAgICAgX3RoaXMub3B0aW9ucy50aHVtYm5haWwuY2FsbChfdGhpcywgbW9ja0ZpbGUsIHYpOwogICAgICAgICAgICBtb2NrRmlsZS5wcmV2aWV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkei1zdWNjZXNzJyk7CiAgICAgICAgICAgIG1vY2tGaWxlLnByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2R6LWNvbXBsZXRlJyk7CiAgICAgICAgICAgIHZtLmluaXRPbmNlID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBtb2NrRmlsZSA9IHsKICAgICAgICAgICAgbmFtZTogJ25hbWUnLAogICAgICAgICAgICBzaXplOiAxMjM0NSwKICAgICAgICAgICAgdXJsOiB2YWwKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLm9wdGlvbnMuYWRkZWRmaWxlLmNhbGwodGhpcywgbW9ja0ZpbGUpOwogICAgICAgICAgdGhpcy5vcHRpb25zLnRodW1ibmFpbC5jYWxsKHRoaXMsIG1vY2tGaWxlLCB2YWwpOwogICAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotc3VjY2VzcycpOwogICAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotY29tcGxldGUnKTsKICAgICAgICAgIHZtLmluaXRPbmNlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICBhY2NlcHQ6IGZ1bmN0aW9uIGFjY2VwdChmaWxlLCBkb25lKSB7CiAgICAgICAgLyog5LiD54mbKi8KICAgICAgICAvLyBjb25zdCB0b2tlbiA9IHRoaXMuJHN0b3JlLmdldHRlcnMudG9rZW47CiAgICAgICAgLy8gZ2V0VG9rZW4odG9rZW4pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIC8vICAgZmlsZS50b2tlbiA9IHJlc3BvbnNlLmRhdGEucWluaXVfdG9rZW47CiAgICAgICAgLy8gICBmaWxlLmtleSA9IHJlc3BvbnNlLmRhdGEucWluaXVfa2V5OwogICAgICAgIC8vICAgZmlsZS51cmwgPSByZXNwb25zZS5kYXRhLnFpbml1X3VybDsKICAgICAgICAvLyAgIGRvbmUoKTsKICAgICAgICAvLyB9KQogICAgICAgIGRvbmUoKTsKICAgICAgfSwKICAgICAgc2VuZGluZzogZnVuY3Rpb24gc2VuZGluZyhmaWxlLCB4aHIsIGZvcm1EYXRhKSB7CiAgICAgICAgLy8gZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIGZpbGUudG9rZW4pOwogICAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgna2V5JywgZmlsZS5rZXkpOwogICAgICAgIHZtLmluaXRPbmNlID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKHRoaXMuY291bGRQYXN0ZSkgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRoaXMucGFzdGVJbWcpOwogICAgfQogICAgdGhpcy5kcm9wem9uZS5vbignc3VjY2VzcycsIGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgIHZtLiRlbWl0KCdkcm9wem9uZS1zdWNjZXNzJywgZmlsZSwgdm0uZHJvcHpvbmUuZWxlbWVudCk7CiAgICB9KTsKICAgIHRoaXMuZHJvcHpvbmUub24oJ2FkZGVkZmlsZScsIGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgIHZtLiRlbWl0KCdkcm9wem9uZS1maWxlQWRkZWQnLCBmaWxlKTsKICAgIH0pOwogICAgdGhpcy5kcm9wem9uZS5vbigncmVtb3ZlZGZpbGUnLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICB2bS4kZW1pdCgnZHJvcHpvbmUtcmVtb3ZlZEZpbGUnLCBmaWxlKTsKICAgIH0pOwogICAgdGhpcy5kcm9wem9uZS5vbignZXJyb3InLCBmdW5jdGlvbiAoZmlsZSwgZXJyb3IsIHhocikgewogICAgICB2bS4kZW1pdCgnZHJvcHpvbmUtZXJyb3InLCBmaWxlLCBlcnJvciwgeGhyKTsKICAgIH0pOwogICAgdGhpcy5kcm9wem9uZS5vbignc3VjY2Vzc211bHRpcGxlJywgZnVuY3Rpb24gKGZpbGUsIGVycm9yLCB4aHIpIHsKICAgICAgdm0uJGVtaXQoJ2Ryb3B6b25lLXN1Y2Nlc3NtdWx0aXBsZScsIGZpbGUsIGVycm9yLCB4aHIpOwogICAgfSk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgdGhpcy5wYXN0ZUltZyk7CiAgICB0aGlzLmRyb3B6b25lLmRlc3Ryb3koKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbW92ZUFsbEZpbGVzOiBmdW5jdGlvbiByZW1vdmVBbGxGaWxlcygpIHsKICAgICAgdGhpcy5kcm9wem9uZS5yZW1vdmVBbGxGaWxlcyh0cnVlKTsKICAgIH0sCiAgICBwcm9jZXNzUXVldWU6IGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZSgpIHsKICAgICAgdGhpcy5kcm9wem9uZS5wcm9jZXNzUXVldWUoKTsKICAgIH0sCiAgICBwYXN0ZUltZzogZnVuY3Rpb24gcGFzdGVJbWcoZXZlbnQpIHsKICAgICAgdmFyIGl0ZW1zID0gKGV2ZW50LmNsaXBib2FyZERhdGEgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhKS5pdGVtczsKICAgICAgaWYgKGl0ZW1zWzBdLmtpbmQgPT09ICdmaWxlJykgewogICAgICAgIHRoaXMuZHJvcHpvbmUuYWRkRmlsZShpdGVtc1swXS5nZXRBc0ZpbGUoKSk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0SW1hZ2VzOiBmdW5jdGlvbiBpbml0SW1hZ2VzKHZhbCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKCF2YWwpIHJldHVybjsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICAgIHZhbC5tYXAoZnVuY3Rpb24gKHYsIGkpIHsKICAgICAgICAgIHZhciBtb2NrRmlsZSA9IHsKICAgICAgICAgICAgbmFtZTogJ25hbWUnICsgaSwKICAgICAgICAgICAgc2l6ZTogMTIzNDUsCiAgICAgICAgICAgIHVybDogdgogICAgICAgICAgfTsKICAgICAgICAgIF90aGlzMi5kcm9wem9uZS5vcHRpb25zLmFkZGVkZmlsZS5jYWxsKF90aGlzMi5kcm9wem9uZSwgbW9ja0ZpbGUpOwogICAgICAgICAgX3RoaXMyLmRyb3B6b25lLm9wdGlvbnMudGh1bWJuYWlsLmNhbGwoX3RoaXMyLmRyb3B6b25lLCBtb2NrRmlsZSwgdik7CiAgICAgICAgICBtb2NrRmlsZS5wcmV2aWV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkei1zdWNjZXNzJyk7CiAgICAgICAgICBtb2NrRmlsZS5wcmV2aWV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkei1jb21wbGV0ZScpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1vY2tGaWxlID0gewogICAgICAgICAgbmFtZTogJ25hbWUnLAogICAgICAgICAgc2l6ZTogMTIzNDUsCiAgICAgICAgICB1cmw6IHZhbAogICAgICAgIH07CiAgICAgICAgdGhpcy5kcm9wem9uZS5vcHRpb25zLmFkZGVkZmlsZS5jYWxsKHRoaXMuZHJvcHpvbmUsIG1vY2tGaWxlKTsKICAgICAgICB0aGlzLmRyb3B6b25lLm9wdGlvbnMudGh1bWJuYWlsLmNhbGwodGhpcy5kcm9wem9uZSwgbW9ja0ZpbGUsIHZhbCk7CiAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotc3VjY2VzcycpOwogICAgICAgIG1vY2tGaWxlLnByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2R6LWNvbXBsZXRlJyk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["Dropzone","autoDiscover","props","id","type","String","required","url","clickable","Boolean","default","defaultMsg","acceptedFiles","thumbnailHeight","Number","thumbnailWidth","showRemoveLink","maxFilesize","maxFiles","autoProcessQueue","useCustomDropzoneOptions","defaultImg","Array","couldPaste","data","dropzone","initOnce","watch","val","length","initImages","mounted","element","document","getElementById","vm","dictRemoveFile","addRemoveLinks","dictDefaultMessage","dictMaxFilesExceeded","previewTemplate","init","_this","isArray","map","v","i","mockFile","name","size","options","addedfile","call","thumbnail","previewElement","classList","add","accept","file","done","sending","xhr","formData","addEventListener","pasteImg","on","$emit","error","destroyed","removeEventListener","destroy","methods","removeAllFiles","processQueue","event","items","clipboardData","originalEvent","kind","addFile","getAsFile","_this2"],"sources":["src/components/Dropzone/index.vue"],"sourcesContent":["<template>\r\n  <div :id=\"id\" :ref=\"id\" :action=\"url\" class=\"dropzone\">\r\n    <input type=\"file\" name=\"file\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Dropzone from 'dropzone'\r\nimport 'dropzone/dist/dropzone.css'\r\n// import { getToken } from 'api/qiniu';\r\n\r\nDropzone.autoDiscover = false\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    url: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    clickable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    defaultMsg: {\r\n      type: String,\r\n      default: '上传图片'\r\n    },\r\n    acceptedFiles: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    thumbnailHeight: {\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    thumbnailWidth: {\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    showRemoveLink: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    maxFilesize: {\r\n      type: Number,\r\n      default: 2\r\n    },\r\n    maxFiles: {\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    autoProcessQueue: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    useCustomDropzoneOptions: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    defaultImg: {\r\n      default: '',\r\n      type: [String, Array]\r\n    },\r\n    couldPaste: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dropzone: '',\r\n      initOnce: true\r\n    }\r\n  },\r\n  watch: {\r\n    defaultImg(val) {\r\n      if (val.length === 0) {\r\n        this.initOnce = false\r\n        return\r\n      }\r\n      if (!this.initOnce) return\r\n      this.initImages(val)\r\n      this.initOnce = false\r\n    }\r\n  },\r\n  mounted() {\r\n    const element = document.getElementById(this.id)\r\n    const vm = this\r\n    this.dropzone = new Dropzone(element, {\r\n      clickable: this.clickable,\r\n      thumbnailWidth: this.thumbnailWidth,\r\n      thumbnailHeight: this.thumbnailHeight,\r\n      maxFiles: this.maxFiles,\r\n      maxFilesize: this.maxFilesize,\r\n      dictRemoveFile: 'Remove',\r\n      addRemoveLinks: this.showRemoveLink,\r\n      acceptedFiles: this.acceptedFiles,\r\n      autoProcessQueue: this.autoProcessQueue,\r\n      dictDefaultMessage: '<i style=\"margin-top: 3em;display: inline-block\" class=\"material-icons\">' + this.defaultMsg + '</i><br>Drop files here to upload',\r\n      dictMaxFilesExceeded: '只能一个图',\r\n      previewTemplate: '<div class=\"dz-preview dz-file-preview\">  <div class=\"dz-image\" style=\"width:' + this.thumbnailWidth + 'px;height:' + this.thumbnailHeight + 'px\" ><img style=\"width:' + this.thumbnailWidth + 'px;height:' + this.thumbnailHeight + 'px\" data-dz-thumbnail /></div>  <div class=\"dz-details\"><div class=\"dz-size\"><span data-dz-size></span></div> <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>  <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>  <div class=\"dz-success-mark\"> <i class=\"material-icons\">done</i> </div>  <div class=\"dz-error-mark\"><i class=\"material-icons\">error</i></div></div>',\r\n      init() {\r\n        const val = vm.defaultImg\r\n        if (!val) return\r\n        if (Array.isArray(val)) {\r\n          if (val.length === 0) return\r\n          val.map((v, i) => {\r\n            const mockFile = { name: 'name' + i, size: 12345, url: v }\r\n            this.options.addedfile.call(this, mockFile)\r\n            this.options.thumbnail.call(this, mockFile, v)\r\n            mockFile.previewElement.classList.add('dz-success')\r\n            mockFile.previewElement.classList.add('dz-complete')\r\n            vm.initOnce = false\r\n            return true\r\n          })\r\n        } else {\r\n          const mockFile = { name: 'name', size: 12345, url: val }\r\n          this.options.addedfile.call(this, mockFile)\r\n          this.options.thumbnail.call(this, mockFile, val)\r\n          mockFile.previewElement.classList.add('dz-success')\r\n          mockFile.previewElement.classList.add('dz-complete')\r\n          vm.initOnce = false\r\n        }\r\n      },\r\n      accept: (file, done) => {\r\n        /* 七牛*/\r\n        // const token = this.$store.getters.token;\r\n        // getToken(token).then(response => {\r\n        //   file.token = response.data.qiniu_token;\r\n        //   file.key = response.data.qiniu_key;\r\n        //   file.url = response.data.qiniu_url;\r\n        //   done();\r\n        // })\r\n        done()\r\n      },\r\n      sending: (file, xhr, formData) => {\r\n        // formData.append('token', file.token);\r\n        // formData.append('key', file.key);\r\n        vm.initOnce = false\r\n      }\r\n    })\r\n\r\n    if (this.couldPaste) {\r\n      document.addEventListener('paste', this.pasteImg)\r\n    }\r\n\r\n    this.dropzone.on('success', file => {\r\n      vm.$emit('dropzone-success', file, vm.dropzone.element)\r\n    })\r\n    this.dropzone.on('addedfile', file => {\r\n      vm.$emit('dropzone-fileAdded', file)\r\n    })\r\n    this.dropzone.on('removedfile', file => {\r\n      vm.$emit('dropzone-removedFile', file)\r\n    })\r\n    this.dropzone.on('error', (file, error, xhr) => {\r\n      vm.$emit('dropzone-error', file, error, xhr)\r\n    })\r\n    this.dropzone.on('successmultiple', (file, error, xhr) => {\r\n      vm.$emit('dropzone-successmultiple', file, error, xhr)\r\n    })\r\n  },\r\n  destroyed() {\r\n    document.removeEventListener('paste', this.pasteImg)\r\n    this.dropzone.destroy()\r\n  },\r\n  methods: {\r\n    removeAllFiles() {\r\n      this.dropzone.removeAllFiles(true)\r\n    },\r\n    processQueue() {\r\n      this.dropzone.processQueue()\r\n    },\r\n    pasteImg(event) {\r\n      const items = (event.clipboardData || event.originalEvent.clipboardData).items\r\n      if (items[0].kind === 'file') {\r\n        this.dropzone.addFile(items[0].getAsFile())\r\n      }\r\n    },\r\n    initImages(val) {\r\n      if (!val) return\r\n      if (Array.isArray(val)) {\r\n        val.map((v, i) => {\r\n          const mockFile = { name: 'name' + i, size: 12345, url: v }\r\n          this.dropzone.options.addedfile.call(this.dropzone, mockFile)\r\n          this.dropzone.options.thumbnail.call(this.dropzone, mockFile, v)\r\n          mockFile.previewElement.classList.add('dz-success')\r\n          mockFile.previewElement.classList.add('dz-complete')\r\n          return true\r\n        })\r\n      } else {\r\n        const mockFile = { name: 'name', size: 12345, url: val }\r\n        this.dropzone.options.addedfile.call(this.dropzone, mockFile)\r\n        this.dropzone.options.thumbnail.call(this.dropzone, mockFile, val)\r\n        mockFile.previewElement.classList.add('dz-success')\r\n        mockFile.previewElement.classList.add('dz-complete')\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .dropzone {\r\n        border: 2px solid #E5E5E5;\r\n        font-family: 'Roboto', sans-serif;\r\n        color: #777;\r\n        transition: background-color .2s linear;\r\n        padding: 5px;\r\n    }\r\n\r\n    .dropzone:hover {\r\n        background-color: #F6F6F6;\r\n    }\r\n\r\n    i {\r\n        color: #CCC;\r\n    }\r\n\r\n    .dropzone .dz-image img {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    .dropzone input[name='file'] {\r\n        display: none;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-image {\r\n        border-radius: 0px;\r\n    }\r\n\r\n    .dropzone .dz-preview:hover .dz-image img {\r\n        transform: none;\r\n        filter: none;\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-details {\r\n        bottom: 0px;\r\n        top: 0px;\r\n        color: white;\r\n        background-color: rgba(33, 150, 243, 0.8);\r\n        transition: opacity .2s linear;\r\n        text-align: left;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-details .dz-filename span, .dropzone .dz-preview .dz-details .dz-size span {\r\n        background-color: transparent;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-details .dz-filename:not(:hover) span {\r\n        border: none;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-details .dz-filename:hover span {\r\n        background-color: transparent;\r\n        border: none;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-remove {\r\n        position: absolute;\r\n        z-index: 30;\r\n        color: white;\r\n        margin-left: 15px;\r\n        padding: 10px;\r\n        top: inherit;\r\n        bottom: 15px;\r\n        border: 2px white solid;\r\n        text-decoration: none;\r\n        text-transform: uppercase;\r\n        font-size: 0.8rem;\r\n        font-weight: 800;\r\n        letter-spacing: 1.1px;\r\n        opacity: 0;\r\n    }\r\n\r\n    .dropzone .dz-preview:hover .dz-remove {\r\n        opacity: 1;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-success-mark, .dropzone .dz-preview .dz-error-mark {\r\n        margin-left: -40px;\r\n        margin-top: -50px;\r\n    }\r\n\r\n    .dropzone .dz-preview .dz-success-mark i, .dropzone .dz-preview .dz-error-mark i {\r\n        color: white;\r\n        font-size: 5rem;\r\n    }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}