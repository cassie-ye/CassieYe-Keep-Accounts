{"remainingRequest":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\babel-loader\\lib\\index.js!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\src\\views\\purchaseManagement\\purchaseRecords.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\src\\views\\purchaseManagement\\purchaseRecords.vue","mtime":1733708193490},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\babel.config.js","mtime":1733119120270},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\babel-loader\\lib\\index.js","mtime":1733119317753},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733119316648},{"path":"E:\\myStudy\\guoyan\\JiangSu\\众彩\\南京众彩商户屏PC\\node_modules\\vue-loader\\lib\\index.js","mtime":1733119318248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkU6L215U3R1ZHkvZ3VveWFuL0ppYW5nU3UvXHU0RjE3XHU1RjY5L1x1NTM1N1x1NEVBQ1x1NEYxN1x1NUY2OVx1NTU0Nlx1NjIzN1x1NUM0RlBDL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKaW1wb3J0IFhMU1ggZnJvbSAneGxzeCc7CmltcG9ydCBGaWxlU2F2ZXIgZnJvbSAnZmlsZS1zYXZlcic7CmltcG9ydCB7IGdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0QVBJIH0gZnJvbSAnQC9hcGkvcHVyY2hhc2VNYW5hZ2VtZW50JzsKaW1wb3J0IGZvb2RTYWZldHlDaGFpbiBmcm9tICcuL2Zvb2RTYWZldHlDaGFpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXJ0aWNsZUxpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIGZvb2RTYWZldHlDaGFpbjogZm9vZFNhZmV0eUNoYWluCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG90YWw6IDAsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBpbmZvVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlY29yZHNMaXN0OiBbXSwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxMCwKICAgICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgICAvLyDmkYrkvY3lj7cKICAgICAgICAgIHN0YWxsTm86ICcnLAogICAgICAgICAgLy8g6YeH6LSt5ZWG5omL5py65Y+3CiAgICAgICAgICBwdXJjaGFzZXJQaG9uZU51bWJlcjogJycsCiAgICAgICAgICAvLyDllYbmiLflkI3np7AKICAgICAgICAgIGJ1c2luZXNzTmFtZTogJycsCiAgICAgICAgICAvLyDllYblk4HlkI3np7AKICAgICAgICAgIGdvb2RzTmFtZTogJycsCiAgICAgICAgICAvLyDph4fotK3ml7bpl7QKICAgICAgICAgIHB1cmNoYXNlVGltZTogbnVsbAogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdDogZnVuY3Rpb24gZ2V0UHVyY2hhc2VSZWNvcmRzTWFuYWdlbWVudExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgZGVhbFRpbWVTdGFydCA9ICcnOwogICAgICB2YXIgZGVhbFRpbWVFbmQgPSAnJzsKICAgICAgaWYgKHRoaXMuZm9ybURhdGEuZm9ybUlubGluZS5wdXJjaGFzZVRpbWUgJiYgdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnB1cmNoYXNlVGltZS5sZW5ndGggPT09IDIpIHsKICAgICAgICB2YXIgX3RoaXMkZm9ybURhdGEkZm9ybUluID0gX3NsaWNlZFRvQXJyYXkodGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnB1cmNoYXNlVGltZSwgMiksCiAgICAgICAgICBzdGFydERhdGUgPSBfdGhpcyRmb3JtRGF0YSRmb3JtSW5bMF0sCiAgICAgICAgICBlbmREYXRlID0gX3RoaXMkZm9ybURhdGEkZm9ybUluWzFdOwogICAgICAgIGRlYWxUaW1lU3RhcnQgPSBkYXlqcyhzdGFydERhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICAgIGRlYWxUaW1lRW5kID0gZGF5anMoZW5kRGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgIH0KICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogdGhpcy5mb3JtRGF0YS5saW1pdCwKICAgICAgICBwYWdlOiB0aGlzLmZvcm1EYXRhLnBhZ2UsCiAgICAgICAgYm9vdGhObzogdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnN0YWxsTm8sCiAgICAgICAgYnV5ZXJNb2JpbGVObzogdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLnB1cmNoYXNlclBob25lTnVtYmVyLAogICAgICAgIGRlYWxUaW1lU3RhcnQ6IGRlYWxUaW1lU3RhcnQsCiAgICAgICAgZGVhbFRpbWVFbmQ6IGRlYWxUaW1lRW5kLAogICAgICAgIGdvb2RzTmFtZTogdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLmdvb2RzTmFtZSwKICAgICAgICBwcm9wcmlldG9yTmFtZTogdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLmJ1c2luZXNzTmFtZQogICAgICB9OwogICAgICBnZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdEFQSShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnJlY29yZHNMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMudG90YWwgPSBOdW1iZXIocmVzLmNvdW50KTsKICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBvcGVuT3BlcmF0ZURpYWxvZzogZnVuY3Rpb24gb3Blbk9wZXJhdGVEaWFsb2cocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmluZm9WaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy5pbmZvLmluaXQocm93Lmdvb2RzRGVhbERldGFpbElkKTsKICAgICAgfSk7CiAgICB9LAogICAgc2l6ZUNoYW5nZUhhbmRsZTogZnVuY3Rpb24gc2l6ZUNoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5saW1pdCA9IHZhbDsKICAgICAgdGhpcy5mb3JtRGF0YS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdCgpOwogICAgfSwKICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGU6IGZ1bmN0aW9uIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7CiAgICAgIHRoaXMuZm9ybURhdGEucGFnZSA9IHZhbDsKICAgICAgdGhpcy5nZXRQdXJjaGFzZVJlY29yZHNNYW5hZ2VtZW50TGlzdCgpOwogICAgfSwKICAgIG9uU2VhcmNoOiBmdW5jdGlvbiBvblNlYXJjaCgpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5wYWdlID0gMTsKICAgICAgLy8gdGhpcy5mb3JtRGF0YS5saW1pdCA9IDEwCiAgICAgIHRoaXMuZ2V0UHVyY2hhc2VSZWNvcmRzTWFuYWdlbWVudExpc3QoKTsKICAgIH0sCiAgICBvblJlc2V0OiBmdW5jdGlvbiBvblJlc2V0KCkgewogICAgICB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuc3RhbGxObyA9ICcnOwogICAgICB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUucHVyY2hhc2VyUGhvbmVOdW1iZXIgPSAnJzsKICAgICAgdGhpcy5mb3JtRGF0YS5mb3JtSW5saW5lLmJ1c2luZXNzTmFtZSA9ICcnOwogICAgICB0aGlzLmZvcm1EYXRhLmZvcm1JbmxpbmUuZ29vZHNOYW1lID0gJyc7CiAgICAgIHRoaXMuZm9ybURhdGEuZm9ybUlubGluZS5wdXJjaGFzZVRpbWUgPSBudWxsOwogICAgICB0aGlzLmdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0KCk7CiAgICB9LAogICAgb25FeHBvcnQ6IGZ1bmN0aW9uIG9uRXhwb3J0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogOTk5OTk5LAogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgYm9vdGhObzogJycsCiAgICAgICAgYnV5ZXJNb2JpbGVObzogJycsCiAgICAgICAgZGVhbFRpbWVTdGFydDogJycsCiAgICAgICAgZGVhbFRpbWVFbmQ6ICcnLAogICAgICAgIGdvb2RzTmFtZTogJycsCiAgICAgICAgcHJvcHJpZXRvck5hbWU6ICcnCiAgICAgIH07CiAgICAgIGdldFB1cmNoYXNlUmVjb3Jkc01hbmFnZW1lbnRMaXN0QVBJKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwICYmIHJlcy5kYXRhKSB7CiAgICAgICAgICB2YXIgZXhwb3J0RGF0YSA9IHJlcy5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICfph4fotK3ml7bpl7QnOiBpdGVtLmRlYWxUaW1lLAogICAgICAgICAgICAgICfph4fotK3llYbmiYvmnLrlj7cnOiBpdGVtLmJ1eWVyTW9iaWxlTm8sCiAgICAgICAgICAgICAgJ+aRiuS9jeWPtyc6IGl0ZW0uYm9vdGhObywKICAgICAgICAgICAgICAn5ZWG5oi35ZCN56ewJzogaXRlbS5wcm9wcmlldG9yTmFtZSwKICAgICAgICAgICAgICAn5ZWG5ZOB5ZCN56ewJzogaXRlbS5nb29kc05hbWUsCiAgICAgICAgICAgICAgJ+mHh+i0remHjyc6IGl0ZW0uZ29vZHNXZWlnaHQgKyBpdGVtLnVuaXQKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMzLmdlbmVyYXRlRXhjZWwoZXhwb3J0RGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcign5a+85Ye65aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZW5lcmF0ZUV4Y2VsOiBmdW5jdGlvbiBnZW5lcmF0ZUV4Y2VsKGV4cG9ydERhdGEpIHsKICAgICAgdmFyIHdiID0gWExTWC51dGlscy5ib29rX25ldygpOwogICAgICB2YXIgd3MgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoZXhwb3J0RGF0YSk7CiAgICAgIHZhciB3c2NvbHMgPSBbewogICAgICAgIHdjaDogMzAKICAgICAgfSwgewogICAgICAgIHdjaDogMzAKICAgICAgfSwgewogICAgICAgIHdjaDogMzAKICAgICAgfSwgewogICAgICAgIHdjaDogMzAKICAgICAgfSwgewogICAgICAgIHdjaDogMzAKICAgICAgfSwgewogICAgICAgIHdjaDogMzAKICAgICAgfV07CiAgICAgIHdzWychY29scyddID0gd3Njb2xzOwogICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdiLCB3cywgJ+mHh+i0reiusOW9leWvvOWHuicpOwogICAgICB2YXIgd2JvdXQgPSBYTFNYLndyaXRlKHdiLCB7CiAgICAgICAgYm9va1R5cGU6ICd4bHN4JywKICAgICAgICB0eXBlOiAnYmluYXJ5JwogICAgICB9KTsKICAgICAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcih3Ym91dC5sZW5ndGgpOwogICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zik7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2JvdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICB2aWV3W2ldID0gd2JvdXQuY2hhckNvZGVBdChpKSAmIDB4RkY7CiAgICAgIH0KICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbYnVmXSwgewogICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nCiAgICAgIH0pOwogICAgICBGaWxlU2F2ZXIuc2F2ZUFzKGJsb2IsICfph4fotK3orrDlvZXlr7zlh7oueGxzeCcpOwogICAgfQogIH0KfTs="},{"version":3,"names":["dayjs","XLSX","FileSaver","getPurchaseRecordsManagementListAPI","foodSafetyChain","name","components","data","total","listLoading","infoVisible","recordsList","formData","page","limit","formInline","stallNo","purchaserPhoneNumber","businessName","goodsName","purchaseTime","created","getPurchaseRecordsManagementList","methods","_this","dealTimeStart","dealTimeEnd","length","_this$formData$formIn","_slicedToArray","startDate","endDate","format","params","boothNo","buyerMobileNo","proprietorName","then","res","Number","count","openOperateDialog","row","_this2","$nextTick","$refs","info","init","goodsDealDetailId","sizeChangeHandle","val","currentChangeHandle","onSearch","onReset","onExport","_this3","code","exportData","map","item","dealTime","goodsWeight","unit","generateExcel","$message","error","wb","utils","book_new","ws","json_to_sheet","wscols","wch","book_append_sheet","wbout","write","bookType","type","buf","ArrayBuffer","view","Uint8Array","i","charCodeAt","blob","Blob","saveAs"],"sources":["src/views/purchaseManagement/purchaseRecords.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :inline=\"true\" :model=\"formData.formInline\" class=\"demo-form-inline\">\n      <el-form-item class=\"el-form-item\" label=\"摊位号：\">\n        <el-input v-model=\"formData.formInline.stallNo\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"采购商手机号：\">\n        <el-input v-model=\"formData.formInline.purchaserPhoneNumber\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"商户名称：\">\n        <el-input v-model=\"formData.formInline.businessName\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"商品名称：\">\n        <el-input v-model=\"formData.formInline.goodsName\" placeholder=\"输入搜索关键词\" />\n      </el-form-item>\n      <el-form-item class=\"el-form-item\" label=\"采购时间：\">\n        <el-date-picker\n          v-model=\"formData.formInline.purchaseTime\"\n          format=\"yyyy-MM-dd\"\n          type=\"daterange\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          style=\"margin-top: 6px;\"\n        />\n      </el-form-item>\n      <el-form-item class=\"button-group\">\n        <el-button type=\"primary\" class=\"search-btn\" @click=\"onSearch\">搜索</el-button>\n        <el-button type=\"primary\" class=\"reset-btn\" @click=\"onReset\">重置</el-button>\n        <el-button type=\"primary\" class=\"export-btn\" @click=\"onExport\">导出</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"recordsList\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;margin-top: 15px;\"\n    >\n      <el-table-column label=\"采购时间\">\n        <template slot-scope=\"scope\">\n          <span style=\"font-size: 15px; color: #999999;\">{{ scope.row.dealTime || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采购商手机号\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.buyerMobileNo || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"摊位号\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.boothNo || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商户名称\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.proprietorName || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商品名称\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.goodsName || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"采购量\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.goodsWeight + scope.row.unit || \"暂无\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" @click=\"openOperateDialog(scope.row)\">食安链条</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <foodSafetyChain v-if=\"infoVisible\" ref=\"info\" />\n    <el-pagination\n      style=\"margin-top: 20px;\"\n      :current-page=\"formData.page\"\n      :page-sizes=\"[10, 20, 50, 100]\"\n      :page-size=\"formData.limit\"\n      :total=\"total\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      @size-change=\"sizeChangeHandle\"\n      @current-change=\"currentChangeHandle\"\n    />\n  </div>\n</template>\n\n<script>\nimport dayjs from 'dayjs'\nimport XLSX from 'xlsx'\nimport FileSaver from 'file-saver'\nimport { getPurchaseRecordsManagementListAPI } from '@/api/purchaseManagement'\nimport foodSafetyChain from './foodSafetyChain'\nexport default {\n  name: 'ArticleList',\n  components: {\n    foodSafetyChain\n  },\n  data() {\n    return {\n      total: 0,\n      listLoading: true,\n      infoVisible: false,\n      recordsList: [],\n      formData: {\n        page: 1,\n        limit: 10,\n        formInline: {\n          // 摊位号\n          stallNo: '',\n          // 采购商手机号\n          purchaserPhoneNumber: '',\n          // 商户名称\n          businessName: '',\n          // 商品名称\n          goodsName: '',\n          // 采购时间\n          purchaseTime: null\n        }\n      }\n    }\n  },\n  created() {\n    this.getPurchaseRecordsManagementList()\n  },\n  methods: {\n    getPurchaseRecordsManagementList() {\n      this.listLoading = true\n      let dealTimeStart = ''\n      let dealTimeEnd = ''\n      if (this.formData.formInline.purchaseTime && this.formData.formInline.purchaseTime.length === 2) {\n        const [startDate, endDate] = this.formData.formInline.purchaseTime\n        dealTimeStart = dayjs(startDate).format('YYYY-MM-DD')\n        dealTimeEnd = dayjs(endDate).format('YYYY-MM-DD')\n      }\n      const params = {\n        limit: this.formData.limit,\n        page: this.formData.page,\n        boothNo: this.formData.formInline.stallNo,\n        buyerMobileNo: this.formData.formInline.purchaserPhoneNumber,\n        dealTimeStart,\n        dealTimeEnd,\n        goodsName: this.formData.formInline.goodsName,\n        proprietorName: this.formData.formInline.businessName\n      }\n      getPurchaseRecordsManagementListAPI(params).then(res => {\n        this.recordsList = res.data\n        this.total = Number(res.count)\n        this.listLoading = false\n      })\n    },\n    openOperateDialog(row) {\n      this.infoVisible = true\n      this.$nextTick(() => {\n        this.$refs.info.init(row.goodsDealDetailId)\n      })\n    },\n    sizeChangeHandle(val) {\n      this.formData.limit = val\n      this.formData.page = 1\n      this.getPurchaseRecordsManagementList()\n    },\n    currentChangeHandle(val) {\n      this.formData.page = val\n      this.getPurchaseRecordsManagementList()\n    },\n    onSearch() {\n      this.formData.page = 1\n      // this.formData.limit = 10\n      this.getPurchaseRecordsManagementList()\n    },\n    onReset() {\n      this.formData.formInline.stallNo = ''\n      this.formData.formInline.purchaserPhoneNumber = ''\n      this.formData.formInline.businessName = ''\n      this.formData.formInline.goodsName = ''\n      this.formData.formInline.purchaseTime = null\n      this.getPurchaseRecordsManagementList()\n    },\n    onExport() {\n      const params = {\n        limit: 999999,\n        page: 1,\n        boothNo: '',\n        buyerMobileNo: '',\n        dealTimeStart: '',\n        dealTimeEnd: '',\n        goodsName: '',\n        proprietorName: ''\n      }\n      getPurchaseRecordsManagementListAPI(params).then(res => {\n        if (res.code === 0 && res.data) {\n          const exportData = res.data.map(item => {\n            return {\n              '采购时间': item.dealTime,\n              '采购商手机号': item.buyerMobileNo,\n              '摊位号': item.boothNo,\n              '商户名称': item.proprietorName,\n              '商品名称': item.goodsName,\n              '采购量': item.goodsWeight + item.unit\n            }\n          })\n          this.generateExcel(exportData)\n        } else {\n          this.$message.error('导出失败')\n        }\n      })\n    },\n    generateExcel(exportData) {\n      const wb = XLSX.utils.book_new()\n      const ws = XLSX.utils.json_to_sheet(exportData)\n      const wscols = [{ wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }, { wch: 30 }]\n      ws['!cols'] = wscols\n      XLSX.utils.book_append_sheet(wb, ws, '采购记录导出')\n      const wbout = XLSX.write(wb, { bookType: 'xlsx', type: 'binary' })\n      const buf = new ArrayBuffer(wbout.length)\n      const view = new Uint8Array(buf)\n      for (let i = 0; i < wbout.length; i++) {\n        view[i] = wbout.charCodeAt(i) & 0xFF\n      }\n      const blob = new Blob([buf], { type: 'application/octet-stream' })\n      FileSaver.saveAs(blob, '采购记录导出.xlsx')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-container {\n  .demo-form-inline {\n    .el-form-item {\n      margin-right: 40px;\n      margin-bottom: 10px;\n\n      .search-btn {\n        margin-right: 6px;\n      }\n\n      .reset-btn {\n        margin-right: 6px;\n      }\n\n      .export-btn {\n        margin-top: 6px;\n      }\n    }\n  }\n\n  // 日期选择器样式\n  :deep(.el-date-editor) {\n    margin-top: 6px;\n  }\n}\n\n.edit-input {\n  padding-right: 100px;\n}\n\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n\n.demo-form-inline {\n  width: 100%;\n\n  .el-form-item {\n    margin-right: 30px;\n\n    .el-input {\n      width: 250px;\n      margin-top: 6px;\n    }\n  }\n\n}\n\n.button-group {\n\n  .search-btn,\n  .export-btn {\n    background-color: #2f58e3;\n    border: #2f58e3;\n  }\n\n  .reset-btn {\n    background-color: #ff2727;\n    border: #ff2727;\n  }\n\n  .el-button {\n    margin-right: 10px;\n    padding-left: 30px;\n    padding-right: 30px;\n    border-radius: 2px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}